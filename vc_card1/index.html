<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/styles1.css">
  </head>
  <body>
    <div class="happy-valentines">
        <img class="backwards" src="/assets/back.png" alt="Back arrow"/>
        <p class="cite">base designed by @lenadesign5043</p>
        <p class="vc">brought to you by VC++, Vassar Computer Science Club, Spring 2024</p>

        <div class="to-from">
            <p class="to">To:</p>
            <p class="from">From:</p>
        </div>
        <p class="message">Replace</p>
        <div class="valentines-day-card">
        <div class="clouds"></div>
            <div class="hearts">
                <div class="heartOne">
                    <div class="left-side"></div>
                    <div class="right-side"></div>
                </div>
                <div class="heartTwo">
                    <div class="left-side"></div>
                    <div class="right-side"></div>
                </div>
                <div class="heartThree">
                    <div class="left-side"></div>
                    <div class="right-side"></div>
                </div>
                <div class="heartFour">
                    <div class="left-side"></div>
                    <div class="right-side"></div>
                </div>
                <div class="heartFive">
                    <div class="left-side"></div>
                    <div class="right-side"></div>
                </div>
            </div>
        <div class="text">Happy Valentine's</br>Day!</div>
        </div>
    </div>
    <script> 
    document.addEventListener("DOMContentLoaded", function () {
        // Retrieve data from localStorage
        const data = JSON.parse(localStorage.getItem('pageData'));
        console.log(data); // Check if data is retrieved correctly
    

        const messageElement = document.querySelector(".message");
        const fromElement = document.querySelector(".from");
        const toElement = document.querySelector(".to");

        if (data) {
            // If data exists, update the elements
            if (data[2].trim() !== "") {
                toElement.textContent = `To: ${data[2]}`;
                toElement.style.display = "block"; // Show the element
            }
            if (data[1].trim() !== "") {
                fromElement.textContent = `From: ${data[1]}`;
                fromElement.style.display = "block"; // Show the element
            }
            if (data[4].trim() !== "") {
                messageElement.textContent = `"${data[4]}"`;
                messageElement.style.display = "block"; // Show the element
            }
        } else {
            // If data is null or undefined, log an error
            console.error("No data found in localStorage");
        }
        
    });        
        // Add event listener for the back button
    const backButton = document.querySelector(".backwards");
    backButton.addEventListener("click", function () {
        // Navigate back to the homepage (index.html)
        window.location.href = "/";
    });
    </script>
  </body>
</html>